<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 공통 스타일시트와 캠핑장 상세 페이지 전용 스타일시트 불러오기 -->
  <link rel="stylesheet" th:href="@{/css/common.css}">
  <link rel="stylesheet" th:href="@{/css/camp-detail.css}">

  <!-- 타이틀 설정: 캠핑장 이름이 있으면 이름 + 상세정보, 없으면 기본 문구 -->
  <title th:text="${camp?.facltNm} ? ${camp.facltNm + ' | 상세 정보'} : '캠핑장 상세 정보'">캠핑장 상세 정보</title>
</head>
<body>
<!-- 로그인 전 상단 메뉴 -->
<div th:replace="~{fragments/topmenu :: beforeLoginTop}"></div>

<!-- 로그인 후 상단 메뉴 -->
<div th:replace="~{fragments/topmenu :: afterLoginTop}"></div>

<!-- 공통 헤더 영역 -->
<div th:replace="~{fragments/topmenu :: header}"></div>

<!-- 캠핑장 정보가 존재하는 경우에만 보여지는 상세 정보 페이지 -->
<div class="camp-detail-container" th:if="${camp}">

  <!-- 캠핑장 이름 및 업종 정보 -->
  <section class="detail-header">
    <h1 th:text="${camp.facltNm}">하늘 정원 캠핑장</h1>
    <p th:text="${camp.lctCl} + ' | ' + ${camp.induty}">산/숲 | 일반야영장</p>
  </section>

  <!-- 캠핑장 주요 정보: 이미지, 소개, 기본 정보 -->
  <section class="detail-main-info">
    <!-- 대표 이미지 표시 -->
    <div class="main-image-wrapper">
      <img th:src="${camp.firstImageUrl != null and !camp.firstImageUrl.isEmpty() ? camp.firstImageUrl : '/images/임시사진.png'}"
           alt="캠핑장 대표 이미지">
    </div>

    <!-- 텍스트 소개 영역 -->
    <div class="core-info-wrapper">
      <h2>캠핑장 소개</h2>
      <p class="intro-text" th:text="${camp.intro}">한 줄 소개가 여기에 표시됩니다.</p>
      <p class="feature-text" th:text="${camp.featureNm}">특징이 여기에 표시됩니다.</p>

      <!-- 캠핑장 상세 정보 리스트 -->
      <ul class="info-list">
        <li><strong>주소</strong><span th:text="${camp.addr1}">주소 정보</span></li>
        <li><strong>연락처</strong><span th:text="${camp.tel}">연락처 정보</span></li>
        <li><strong>운영 기간</strong><span th:text="${camp.operPdCl}">운영 기간 정보</span></li>
        <li>
          <strong>홈페이지</strong>
          <a th:if="${camp.homepage != null and !camp.homepage.isEmpty()}" th:href="${camp.homepage}" target="_blank">바로가기</a>
          <span th:unless="${camp.homepage != null and !camp.homepage.isEmpty()}">정보 없음</span>
        </li>
        <li>
          <strong>예약</strong>
          <a th:if="${camp.resveUrl != null and !camp.resveUrl.isEmpty()}" th:href="${camp.resveUrl}" target="_blank">예약 페이지로 이동</a>
          <span th:unless="${camp.resveUrl != null and !camp.resveUrl.isEmpty()}">정보 없음</span>
        </li>
      </ul>
    </div>
  </section>

  <!-- 추가 정보: 시설, 부대시설, 테마 -->
  <section class="detail-extra-info">
    <div class="info-box">
      <h3>주요 시설</h3>
      <p th:if="${camp.gnrlSiteCo != null}" th:text="'일반야영(' + ${camp.gnrlSiteCo} + ') | 자동차야영(' + ${camp.autoSiteCo} + ') | 글램핑(' + ${camp.glampSiteCo} + ') | 카라반(' + ${camp.caravSiteCo} + ')'"></p>
    </div>
    <div class="info-box">
      <h3>부대 시설</h3>
      <p th:text="${camp.sbrsCl}">부대시설 정보</p>
    </div>
    <div class="info-box">
      <h3>테마 환경</h3>
      <p th:text="${camp.themaEnvrnCl}">테마 환경 정보</p>
    </div>
  </section>

  <!-- 갤러리 영역 (이미지 슬라이더 형식) -->
  <section class="detail-slider">
    <h2>갤러리</h2>
    <div class="slider-wrapper">
      <div class="slide-item">
        <img th:src="${camp.firstImageUrl != null and !camp.firstImageUrl.isEmpty() ? camp.firstImageUrl : '/images/임시사진.png'}" alt="갤러리 이미지 1">
      </div>
      <div class="slide-item"><img src="/images/임시사진.png" alt="갤러리 이미지 2"></div>
      <div class="slide-item"><img src="/images/임시사진.png" alt="갤러리 이미지 3"></div>
    </div>
  </section>

  <!-- 지도 표시 영역 -->
  <section class="detail-map">
    <h2>캠핑장 위치</h2>
    <div id="map-placeholder">지도가 표시될 영역입니다.</div>
  </section>

</div>

<!-- 캠핑장 정보가 없는 경우에 출력되는 대체 화면 -->
<div class="camp-detail-container" th:unless="${camp}">
  <h1>캠핑장 정보를 불러올 수 없습니다.</h1>
  <p>요청하신 캠핑장을 찾지 못했거나, 정보를 가져오는 데 실패했습니다.</p>
  <a th:href="@{/}">홈으로 돌아가기</a>
</div>

</body>
</html>