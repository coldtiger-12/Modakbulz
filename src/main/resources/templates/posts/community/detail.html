<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>게시글 상세</title>
  <link rel="stylesheet" href="" th:href="@{/css/common.css}">
  <link rel="stylesheet" href="" th:href="@{/css/community.css}">
</head>
<body>
<div th:replace="~{fragments/topmenu :: beforeLoginTop}"></div>
<div th:replace="~{fragments/topmenu :: afterLoginTop}"></div>

<div th:replace="~{fragments/topmenu :: header}"></div>

<main class="container">
  <h1>게시글 상세</h1>
  <div class="post-detail">
    <h2 th:text="${post.title}">제목</h2>

    <p><strong>작성자:</strong> <span th:text="${post.writer}">작성자</span></p>
    <p><strong>작성일:</strong> <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">날짜</span></p>
    <p><strong>조회수:</strong> <span th:text="${post.viewC}">0</span></p>

    <hr>
    <div class="content" th:text="${post.content}">내용</div>
    <hr>
  </div>

  <div class="button">
    <button type="button" onclick="location.href='/posts/community'">목록</button>

    <th:block th:if="${session.loginMember != null and (session.loginMember.gubun == 'A' or session.loginMember.id == post.memberId)}">
      <form th:action="@{'/posts/community/' + ${post.coId} + '/edit'}" method="get" style="display: inline;">
        <button type="submit">수정</button>
      </form>
      <form th:action="@{'/posts/community/' + ${post.coId} + '/delete'}" method="post" style="display: inline;"
            onsubmit="return confirm('정말 삭제하시겠습니까?');">
        <button type="submit">삭제</button>
      </form>
    </th:block>
  </div>
</main>
</body>
</html>